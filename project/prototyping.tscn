[gd_scene load_steps=20 format=3 uid="uid://bfvqgu4cskm6t"]

[ext_resource type="Script" path="res://prototyping.gd" id="1_cfq31"]
[ext_resource type="Texture2D" uid="uid://dmfjbmacaaiv2" path="res://player/santas-hand.png" id="2_k6sdo"]
[ext_resource type="Texture2D" uid="uid://8fmdbqlxjhah" path="res://player/santa-torso.png" id="3_xscpu"]
[ext_resource type="Texture2D" uid="uid://bq5xlntqixy1c" path="res://player/santa-head.png" id="4_i7jo1"]
[ext_resource type="Texture2D" uid="uid://biiw2oayiulx5" path="res://player/santa-foot.png" id="5_ghto1"]
[ext_resource type="Script" path="res://player/scripts/player-character.gd" id="5_i6vso"]
[ext_resource type="Texture2D" uid="uid://dkces187k3qsv" path="res://snowman/snowman-head.png" id="7_avqii"]
[ext_resource type="Script" path="res://physics/armSpring2D.gd" id="7_f1w3s"]
[ext_resource type="Script" path="res://player/scripts/npc.gd" id="7_p6qj8"]
[ext_resource type="Texture2D" uid="uid://57rby2h6t245" path="res://snowman/snowman-hand.png" id="8_7u3ln"]
[ext_resource type="Texture2D" uid="uid://oy3o8ohdntdh" path="res://snowman/snowman-leg.png" id="11_r4whv"]
[ext_resource type="Texture2D" uid="uid://dyaqj3govc3ow" path="res://snowman/snowman-torso.png" id="11_vm651"]
[ext_resource type="Texture2D" uid="uid://dplxqf22dpcf6" path="res://items/pistol/pistol.png" id="12_f7s3o"]
[ext_resource type="Script" path="res://items/pistol/pistol.gd" id="13_t1y00"]
[ext_resource type="Texture2D" uid="uid://ddwixxoutq26k" path="res://items/pistol/empty.png" id="15_avqr1"]
[ext_resource type="AudioStream" uid="uid://clfltrd5u1ih0" path="res://items/pistol/pistol-1.wav" id="15_fjrmf"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_57qbr"]
size = Vector2(102, 88.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bta34"]
size = Vector2(3.91763, 42.4205)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r8qjm"]
size = Vector2(20, 237.144)

[node name="Node2D" type="Node2D"]
script = ExtResource("1_cfq31")

[node name="character" type="Node2D" parent="."]
texture_filter = 1
position = Vector2(-961, -124)

[node name="head" type="Sprite2D" parent="character"]
z_index = 1
position = Vector2(-10.295, -15)
scale = Vector2(7.89286, 7.89286)
texture = ExtResource("4_i7jo1")
centered = false
offset = Vector2(-4.03, -11.875)

[node name="arm-left" type="Sprite2D" parent="character"]
z_index = -1
position = Vector2(-53.25, 51.0357)
scale = Vector2(7.5, 7.5)
texture = ExtResource("2_k6sdo")

[node name="arm-right" type="Sprite2D" parent="character"]
z_index = 1
position = Vector2(42.39, 53.495)
scale = Vector2(7.5, 7.5)
texture = ExtResource("2_k6sdo")

[node name="leg-left" type="Sprite2D" parent="character"]
z_index = -1
position = Vector2(-30, 123.5)
scale = Vector2(7.5, 7.5)
texture = ExtResource("5_ghto1")
centered = false
offset = Vector2(-2.47, -10.01)

[node name="leg-right" type="Sprite2D" parent="character"]
z_index = -1
position = Vector2(16, 124)
scale = Vector2(7.5, 7.5)
texture = ExtResource("5_ghto1")
centered = false
offset = Vector2(-2.5, -10.02)

[node name="body" type="RigidBody2D" parent="character" node_paths=PackedStringArray("camera", "torso", "root", "currentItem")]
texture_filter = 1
position = Vector2(6, 2)
collision_layer = 2
mass = 7.0
can_sleep = false
script = ExtResource("5_i6vso")
moveSpeed = 5000.0
jumpForce = 7000.0
friction = 0.4
cameraSpeed = 10.0
camera = NodePath("../camera")
torso = NodePath("torso")
root = NodePath("..")
legLength = 55.0
legDamper = 40.0
legStiffness = 1000.0
currentItem = NodePath("../../pistol")

[node name="torso" type="Sprite2D" parent="character/body"]
position = Vector2(-3, 32.9997)
scale = Vector2(7.5, 7.5)
texture = ExtResource("3_xscpu")

[node name="head-socket" type="Node2D" parent="character/body/torso"]
position = Vector2(-0.96, -6.475)

[node name="leg-left-socket" type="Node2D" parent="character/body/torso"]
position = Vector2(-3.2, 5.46675)

[node name="leg-right-socket" type="Node2D" parent="character/body/torso"]
position = Vector2(3.2, 5.46671)

[node name="arm-left-socket" type="Node2D" parent="character/body/torso"]
position = Vector2(-6.59, 2.76)

[node name="arm-right-socket" type="Node2D" parent="character/body/torso"]
position = Vector2(6.035, 2.76)

[node name="hitbox" type="CollisionShape2D" parent="character/body"]
position = Vector2(-3, 38.75)
shape = SubResource("RectangleShape2D_57qbr")

[node name="ArmSpring2D" type="RayCast2D" parent="character/body" node_paths=PackedStringArray("body")]
position = Vector2(36, 51)
scale = Vector2(0.999997, 0.999997)
enabled = false
target_position = Vector2(0, 0)
collision_mask = 0
script = ExtResource("7_f1w3s")
body = NodePath("../../../pistol/body")
stiffness = 3000.0
damper = 100.0
centralForce = true

[node name="camera" type="Camera2D" parent="character"]
position = Vector2(-6, -34)
zoom = Vector2(0.805, 0.805)

[node name="npc" type="Node2D" parent="."]
texture_filter = 1
position = Vector2(28, -222)

[node name="head" type="Sprite2D" parent="npc"]
z_index = 1
position = Vector2(-4, -13)
scale = Vector2(7.89286, 7.89286)
texture = ExtResource("7_avqii")
centered = false
offset = Vector2(-4.83, -7.665)

[node name="arm-left" type="Sprite2D" parent="npc"]
z_index = -1
position = Vector2(-53.25, 51.0357)
scale = Vector2(7.5, 7.5)
texture = ExtResource("8_7u3ln")

[node name="arm-right" type="Sprite2D" parent="npc"]
z_index = 1
position = Vector2(42.39, 53.495)
scale = Vector2(7.5, 7.5)
texture = ExtResource("8_7u3ln")

[node name="leg-left" type="Sprite2D" parent="npc"]
z_index = -1
position = Vector2(-30, 123.5)
scale = Vector2(7.5, 7.5)
texture = ExtResource("11_r4whv")
offset = Vector2(0, -2.02)

[node name="leg-right" type="Sprite2D" parent="npc"]
z_index = -1
position = Vector2(16, 124)
scale = Vector2(7.5, 7.5)
texture = ExtResource("11_r4whv")
offset = Vector2(0, -2.06)

[node name="body" type="RigidBody2D" parent="npc" node_paths=PackedStringArray("torso", "root")]
texture_filter = 1
position = Vector2(6, 2)
collision_layer = 2
mass = 8.985
can_sleep = false
script = ExtResource("7_p6qj8")
moveSpeed = 5000.0
jumpForce = 7000.0
friction = 3.0
torso = NodePath("torso")
root = NodePath("..")
legLength = 50.0
legDamper = 30.0
legStiffness = 1000.0

[node name="torso" type="Sprite2D" parent="npc/body"]
position = Vector2(-3, 43)
scale = Vector2(7.5, 7.5)
texture = ExtResource("11_vm651")

[node name="head-socket" type="Node2D" parent="npc/body/torso"]
position = Vector2(-0.96, -6.475)

[node name="leg-left-socket" type="Node2D" parent="npc/body/torso"]
position = Vector2(-3.2, 4.00004)

[node name="leg-right-socket" type="Node2D" parent="npc/body/torso"]
position = Vector2(3.2, 4)

[node name="arm-left-socket" type="Node2D" parent="npc/body/torso"]
position = Vector2(-6.59, 2.76)

[node name="arm-right-socket" type="Node2D" parent="npc/body/torso"]
position = Vector2(6.035, 2.76)

[node name="leg-left2" type="Sprite2D" parent="npc/body/torso"]
visible = false
z_index = -1
position = Vector2(-0.266667, 9.33337)
scale = Vector2(0.779861, 0.779861)
texture = ExtResource("11_r4whv")
offset = Vector2(0, -2.47)

[node name="hitbox" type="CollisionShape2D" parent="npc/body"]
position = Vector2(-5, 43)
scale = Vector2(0.972612, 1.07096)
shape = SubResource("RectangleShape2D_57qbr")

[node name="pistol" type="Node2D" parent="." node_paths=PackedStringArray("shootStream", "sprite", "dominantHandGrip", "body")]
position = Vector2(-846, 120)
script = ExtResource("13_t1y00")
shootStream = NodePath("body/shoot-sound")
sprite = NodePath("body/sprite")
dominantHandGrip = NodePath("body/sprite/grip-socket")
body = NodePath("body")
facingLeft = true

[node name="body" type="RigidBody2D" parent="pistol"]
collision_layer = 2
mass = 5.287
gravity_scale = 0.753
linear_damp = 5.0

[node name="shoot-sound" type="AudioStreamPlayer2D" parent="pistol/body"]
stream = ExtResource("15_fjrmf")

[node name="hitbox" type="CollisionShape2D" parent="pistol/body"]
position = Vector2(-28, -15)
scale = Vector2(22.6061, 1.53835)
shape = SubResource("RectangleShape2D_bta34")
disabled = true

[node name="sprite" type="Sprite2D" parent="pistol/body"]
z_index = 2
texture_filter = 1
position = Vector2(-29, -15)
scale = Vector2(8.14478, 8.14478)
texture = ExtResource("12_f7s3o")

[node name="grip-socket" type="Node2D" parent="pistol/body/sprite"]
position = Vector2(3.56056, 1.96445)
scale = Vector2(0.122778, 0.122778)

[node name="RigidBody2D" type="RigidBody2D" parent="."]
position = Vector2(-2, 552)
scale = Vector2(1, 0.999089)
freeze = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="RigidBody2D"]
position = Vector2(0, 494.69)
scale = Vector2(473.21, 4.55633)
shape = SubResource("RectangleShape2D_r8qjm")

[node name="Sprite2D" type="Sprite2D" parent="RigidBody2D"]
position = Vector2(-6, 489.446)
scale = Vector2(9409.01, -1070.44)
texture = ExtResource("15_avqr1")
